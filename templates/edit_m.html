<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>E-Vastik Patrak</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div
      class="max-w-4xl mx-auto px-4 sm:px-8 py-8 mt-10 bg-white rounded-lg shadow-lg"
    >
      <h1 class="text-3xl font-bold text-[#006400] mb-6 text-center">
        E-Vastik Patark Form
      </h1>

      <!-- Repeat this block for each member -->
      <div class="border-t pt-6 mb-10">
        {% if mem.relation == "self" %}
        <h2 class="text-2xl font-semibold text-[#006459] mb-4">
          Edit Family Head's Details
        </h2>
        {% elif id.split("?")[0] == "new" %}
        <h2 class="text-2xl font-semibold text-[#006459] mb-4">
          Add Member Details
        </h2>
        {% else %}
        <h2 class="text-2xl font-semibold text-[#006459] mb-4">
          Edit Member Details
        </h2>
        {% endif %}

        <form
          method="POST"
          enctype="/edit/{{ type }}/{{ id }}"
          class="space-y-6"
        >
          <!-- Name -->
          <div>
            <label class="block font-medium mb-1"
              >Name <span class="text-red-500">*</span></label
            >
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
              <input
                type="text"
                name="fn"
                placeholder="First Name"
                {% if id.split("?")[0] != "new" %}value="{{ mem.name.split(" ")[1] }}"{% endif %}
                required
                minlength="3"
                maxlength="25"
                class="border p-2 rounded-md w-full"
              />
              <input
                type="text"
                name="mn"
                placeholder="Middle Name"
                {% if id.split("?")[0] != "new" %}value="{{ mem.name.split(" ")[2] }}"{% endif %}
                required
                minlength="3"
                maxlength="25"
                class="border p-2 rounded-md w-full"
              />
              <input
                type="text"
                name="ln"
                placeholder="Last Name"
                {% if id.split("?")[0] != "new" %}value="{{ mem.name.split(" ")[0] }}"{% endif %}
                required
                minlength="3"
                maxlength="25"
                class="border p-2 rounded-md w-full"
              />
            </div>
          </div>

          <!-- Father's Name -->
          <div>
            <label class="block font-medium mb-1"
              >Father's Name <span class="text-red-500">*</span></label
            >
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
              <input
                type="text"
                name="ffn"
                placeholder="First Name"
                {% if id.split("?")[0] != "new" %}value="{{ mem.father.split(" ")[1] }}"{% endif %}
                required
                minlength="3"
                maxlength="25"
                class="border p-2 rounded-md w-full"
              />
              <input
                type="text"
                name="fmn"
                placeholder="Middle Name"
                {% if id.split("?")[0] != "new" %}value="{{ mem.father.split(" ")[2] }}"{% endif %}
                required
                minlength="3"
                maxlength="25"
                class="border p-2 rounded-md w-full"
              />
              <input
                type="text"
                name="fln"
                placeholder="Last Name"
                {% if id.split("?")[0] != "new" %}value="{{ mem.father.split(" ")[0] }}"{% endif %}
                required
                minlength="3"
                maxlength="25"
                class="border p-2 rounded-md w-full"
              />
            </div>
          </div>

          <!-- Gender -->
          <div>
            <label class="block font-medium mb-1"
              >Gender <span class="text-red-500">*</span></label
            >
            <select name="gender" required class="w-full border p-2 rounded-md">
              <option value="" disabled selected>Select</option>
              <option value="M" {% if mem.gender == "M" %}selected{% endif %}>Male</option>
              <option value="F" {% if mem.gender == "F" %}selected{% endif %}>Female</option>
            </select>
          </div>

          <!-- Relation with Family Head -->
          {% if mem.relation == "self" %}
          <div>
            <label class="block font-medium mb-1"
              >Relation with Family Head
              <span class="text-red-500">*</span></label
            >
            <select
              name="relation"
              required
              class="w-full border p-2 rounded-md"
            >
              <option value="" disabled>Select relation</option>
              <option value="self" selected>Self</option>
              <option value="father" disabled>Father</option>
              <option value="mother" disabled>Mother</option>
              <option value="wife" disabled>Wife</option>
              <option value="husband" disabled>Husband</option>
              <option value="son" disabled>Son</option>
              <option value="daughter" disabled>Daughter</option>
              <option value="brother" disabled>Brother</option>
              <option value="sister" disabled>Sister</option>
              <option value="grandfather" disabled>Grandfather</option>
              <option value="grandmother" disabled>Grandmother</option>
              <option value="grandson" disabled>Grandson</option>
              <option value="granddaughter" disabled>Granddaughter</option>
              <option value="father-in Law" disabled>Father-in Law</option>
              <option value="mother-in Law" disabled>Mother-in Law</option>
              <option value="daughter-in Law" disabled>Daughter-in Law</option>
              <option value="son-in Law" disabled>Son-in Law</option>
              <option value="other" disabled>Other</option>
            </select>
          </div>
          {% elif id.split("?")[0] == "new" %}
          <div>
            <label class="block font-medium mb-1"
              >Relation with Family Head
              <span class="text-red-500">*</span></label
            >
            <select
              name="relation"
              required
              class="w-full border p-2 rounded-md"
            >
              <option value="" disabled selected>Select relation</option>
              <option value="self" disabled>Self</option>
              <option value="father">Father</option>
              <option value="mother">Mother</option>
              <option value="wife">Wife</option>
              <option value="husband">Husband</option>
              <option value="son">Son</option>
              <option value="daughter">Daughter</option>
              <option value="brother">Brother</option>
              <option value="sister">Sister</option>
              <option value="grandfather">Grandfather</option>
              <option value="grandmother">Grandmother</option>
              <option value="grandson">Grandson</option>
              <option value="granddaughter">Granddaughter</option>
              <option value="father-in Law">Father-in Law</option>
              <option value="mother-in Law">Mother-in Law</option>
              <option value="daughter-in Law">Daughter-in Law</option>
              <option value="son-in Law">Son-in Law</option>
              <option value="other">Other</option>
            </select>
          </div>
          {% else %}
          <div>
            <label class="block font-medium mb-1"
              >Relation with Family Head
              <span class="text-red-500">*</span></label
            >
            <select
              name="relation"
              required
              class="w-full border p-2 rounded-md"
            >
              <option value="" disabled selected>Select relation</option>
              <option value="self" disabled>Self</option>
              <option value="father" {% if mem.relation == "father" %}selected{% endif %}>Father</option>
              <option value="mother" {% if mem.relation == "mother" %}selected{% endif %}>Mother</option>
              <option value="wife" {% if mem.relation == "wife" %}selected{% endif %}>Wife</option>
              <option value="husband" {% if mem.relation == "husband" %}selected{% endif %}>Husband</option>
              <option value="son" {% if mem.relation == "son" %}selected{% endif %}>Son</option>
              <option value="daughter" {% if mem.relation == "daughter" %}selected{% endif %}>Daughter</option>
              <option value="brother" {% if mem.relation == "brother" %}selected{% endif %}>Brother</option>
              <option value="sister" {% if mem.relation == "sister" %}selected{% endif %}>Sister</option>
              <option value="grandfather" {% if mem.relation == "grandfather" %}selected{% endif %}>Grandfather</option>
              <option value="grandmother" {% if mem.relation == "grandmother" %}selected{% endif %}>Grandmother</option>
              <option value="grandson" {% if mem.relation == "grandson" %}selected{% endif %}>Grandson</option>
              <option value="granddaughter" {% if mem.relation == "granddaughter" %}selected{% endif %}>Granddaughter</option>
              <option value="father-in Law" {% if mem.relation == "father-in Law" %}selected{% endif %}>Father-in Law</option>
              <option value="mother-in Law" {% if mem.relation == "mother-in Law" %}selected{% endif %}>Mother-in Law</option>
              <option value="daughter-in Law" {% if mem.relation == "daughter-in Law" %}selected{% endif %}>Daughter-in Law</option>
              <option value="son-in Law" {% if mem.relation == "son-in Law" %}selected{% endif %}>Son-in Law</option>
              <option value="other" {% if mem.relation == "other" %}selected{% endif %}>Other</option>
            </select>
          </div>
          {% endif %}

          <!-- Peer -->
          <div>
            <label class="block font-medium mb-1">Peear</label>
            <input
              type="text"
              name="peear"
              placeholder="Peear"
              {% if id.split("?")[0] != "new" %}value="{{ mem.peear }}"{% endif %}
              class="w-full border p-2 rounded-md"
            />
          </div>

          <!-- Marital Status -->
          <div>
            <label class="block font-medium mb-1"
              >Marital Status <span class="text-red-500">*</span></label
            >
            <select
              name="marriage"
              required
              class="w-full border p-2 rounded-md"
            >
              <option value="" disabled selected>Select status</option>
              <option value="unmarried" {% if mem.marriage == "unmarried" %}selected{% endif %}>Unmarried</option>
              <option value="married" {% if mem.marriage == "married" %}selected{% endif %}>Married</option>
              <option value="widowed" {% if mem.marriage == "widowed" %}selected{% endif %}>Widowed</option>
              <option value="divorced" {% if mem.marriage == "divorced" %}selected{% endif %}>Divorced</option>
            </select>
          </div>

          <!-- Date of Birth -->
          <div>
            <label class="block font-medium mb-1"
              >Date of Birth <span class="text-red-500">*</span></label
            >
            <input
              type="date"
              name="dob"
              {% if id.split("?")[0] != "new" %}value="{{ mem.dob | format_date_for_input }}"{% endif %}
              required
              class="w-full border p-2 rounded-md"
            />
          </div>

          <!-- Photo -->
          <div>
            <label class="block font-medium mb-1">Upload Photo</label>
            <input
              type="file"
              name="photo"
              accept="image/*"
              class="w-full"
              {% if id.split("?")[0] != "new" %}value="{{ mem.photo }}"{% endif %}
            />
          </div>

          <!-- Education -->
          <div>
            <label class="block font-medium mb-1"
              >Education <span class="text-red-500">*</span></label
            >
            <input
              type="text"
              name="edu"
              {% if id.split("?")[0] != "new" %}value="{{ mem.edu }}"{% endif %}
              required
              class="w-full border p-2 rounded-md"
            />
          </div>

          <!-- Occupation -->
          <div>
            <label class="block font-medium mb-1"
              >Occupation <span class="text-red-500">*</span></label
            >
            <input
              type="text"
              name="occu"
              {% if id.split("?")[0] != "new" %}value="{{ mem.occu }}"{% endif %}
              required
              class="w-full border p-2 rounded-md"
            />
          </div>

          <!-- Mobile No. -->
          <div>
            <label class="block font-medium mb-1"
              >Mobile No. <span class="text-red-500">*</span></label
            >
            <input
              type="text"
              name="phone"
              minlength="10"
              maxlength="11"
              {% if id.split("?")[0] != "new" %}value="{{ mem.phone }}"{% endif %}
              required
              class="w-full border p-2 rounded-md"
            />
          </div>

          <!-- Email -->
          <div>
            <label class="block font-medium mb-1">Email</label>
            <input
              type="email"
              name="email"
              {% if mem.email != "N/A" %}
              value="{{ mem.email }}"
              {% endif %}
              class="w-full border p-2 rounded-md"
            />
          </div>

          <!-- Blood Group -->
          <div>
            <label class="block font-medium mb-1"
              >Blood Group <span class="text-red-500">*</span></label
            >
            <select name="blood" required class="w-full border p-2 rounded-md">
              <option value="" disabled selected>Select blood group</option>
              <option value="A+" {% if mem.blood == "A+" %}selected{% endif %}>A+</option>
              <option value="A-" {% if mem.blood == "A-" %}selected{% endif %}>A-</option>
              <option value="B+" {% if mem.blood == "B+" %}selected{% endif %}>B+</option>
              <option value="B-" {% if mem.blood == "B-" %}selected{% endif %}>B-</option>
              <option value="O+" {% if mem.blood == "O+" %}selected{% endif %}>O+</option>
              <option value="O-" {% if mem.blood == "O-" %}selected{% endif %}>O-</option>
              <option value="AB+" {% if mem.blood == "AB+" %}selected{% endif %}>AB+</option>
              <option value="AB-" {% if mem.blood == "AB-" %}selected{% endif %}>AB-</option>
            </select>
          </div>

          <!-- Submit Button (optional if only one member) -->
          <div class="text-center mt-6 sm:mt-8">
            <button
              type="submit"
              class="bg-[#006400] text-white font-semibold py-2 px-6 rounded hover:bg-green-800"
            >
              Save Member
            </button>
          </div>
        </form>
      </div>
      <!-- End of member section -->
    </div>
  </body>
</html>
