
{% extends "admin.html" %}
{% block body %}

<!-- Sidebar -->
<aside id="sidebar" class="bg-white w-full md:w-64 shadow-lg p-6 hidden md:block md:min-h-screen">
    <h2 class="text-2xl font-bold text-[#006400] mb-8">Admin Panel</h2>
    <nav class="space-y-4">
        <a href="/admin/dashboard" class="block px-4 py-2 rounded hover:bg-green-100">Dashboard</a>
        <a href="/admin/user" class="block px-4 py-2 rounded hover:bg-green-100">View Data</a>
        <a href="/admin/report" class="block px-4 py-2 rounded hover:bg-green-100 text-[#006400] font-semibold">Analysis</a>
        <a href="/admin/something" class="block px-4 py-2 rounded hover:bg-green-100">Coming Soon</a>
        <a href="/logout" class="block px-4 py-2 rounded hover:bg-green-100 text-red-600">Logout</a>
    </nav>
</aside>

<!-- Main Content -->
<main class="flex-1 p-6 space-y-8 overflow-hidden max-w-full">

  <!-- Page Header / Filters -->
  <section class="bg-white p-4 rounded shadow flex flex-wrap items-center justify-between gap-4">
    <h1 class="text-2xl font-bold text-[#006400]">Reports</h1>

    <!-- Search bar/filter (optional, feel free to modify) -->
    <form method="GET" action="/admin/report" class="flex gap-2 items-center">
      <input type="text" name="search" placeholder="Search reports..."
             class="border px-3 py-2 rounded w-64 focus:ring-2 focus:ring-green-600"/>
      <button type="submit"
              class="bg-[#006400] text-white px-4 py-2 rounded hover:bg-green-800 text-sm">Search</button>
    </form>
  </section>

  <!-- Reports Table Section -->
  <section class="bg-white p-6 rounded shadow min-h-[300px]">

    <h2 class="text-xl font-semibold text-[#006400] mb-4">Generated Reports</h2>
    <div class="w-full overflow-hidden">
      <div class="overflow-x-auto border rounded shadow">
        <div class="min-w-[1000px]">
          <table class="table-auto w-full text-sm border-collapse whitespace-nowrap">
            <thead class="bg-[#006400] text-white sticky top-0 z-10">
              <tr>
                <th class="p-3 border">#</th>
                <th class="p-3 border">Report Name</th>
                <th class="p-3 border">Type</th>
                <th class="p-3 border">Generated By</th>
                <th class="p-3 border">Created Date</th>
                <th class="p-3 border text-center">Download</th>
              </tr>
            </thead>
            <tbody>
              {% for report in reports %}
              <tr class="hover:bg-gray-50 border-t">
                <td class="p-3 border">{{ loop.index }}</td>
                <td class="p-3 border">{{ report.name }}</td>
                <td class="p-3 border">{{ report.type }}</td>
                <td class="p-3 border">{{ report.generated_by }}</td>
                <td class="p-3 border">{{ report.created_at.strftime('%Y-%m-%d') }}</td>
                <td class="p-3 border text-center">
                  <a href="{{ report.download_url }}" class="text-blue-600 hover:underline" target="_blank">Download</a>
                </td>
              </tr>
              {% else %}
              <tr>
                <td colspan="6" class="p-4 text-center text-gray-500 italic">No reports available.</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </section>
</main>

{% endblock %}